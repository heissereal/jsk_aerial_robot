<?xml version="1.0" encoding="utf-8"?>

<launch>
  <arg name="INPUT_IMAGE" default="/camera/color/image_raw" />
  <arg name="realsense" default="true" />
  <arg name="coral" default="true" />
  <arg name="detector" default="$(find coral_usb)/launch/edgetpu_object_detector.launch" />

  <node pkg="mini_quadrotor"
        type="merge.py"
        name="merge_class_and_rect" output="screen">
    <!-- <remap from="~image" to="$(arg INPUT_IMAGE)" /> -->
    <!-- <remap from="~info" to="$(arg INPUT_INFO)" /> -->
    <!-- <remap from="~input_class" to="$(arg INPUT_CLASS)" /> -->
    <!-- <remap from="~input_rects" to="$(arg INPUT_RECTS)" /> -->
    <!-- <rosparam> -->
    <!--   frame_fixed: "rear_rail" -->
    <!--   image_transport: compressed -->
    <!--   dimensions_labels: -->
    <!--       person: [0.5, 0.5, 1.5] -->
    <!-- </rosparam> -->
  </node>


  <!-- launch coral -->
  <include if="$(arg coral)" file="$(arg detector)">
    <arg name="INPUT_IMAGE" value="$(arg INPUT_IMAGE)" />
  </include>

  <!-- launch realsense -->
  <include if="$(arg realsense)" file="$(find realsense2_camera)/launch/rs_camera.launch" >
    <rosparam>
      align_depth: "true"
    </rosparam>
  </include>

</launch>
